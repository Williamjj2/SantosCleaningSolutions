(function(){'use strict';function ready(fn){if(document.readyState!=='loading'){fn();}else{document.addEventListener('DOMContentLoaded',fn);}}
function integrateDynamicPanel(){console.log('ðŸ”§ Integrando painel dinÃ¢mico no site...');const possiblePanels=document.querySelectorAll(`.reviews-section,.testimonials,.google-reviews,.rating-summary,[class*="review"],[class*="rating"],[id*="review"],[id*="rating"]`);possiblePanels.forEach(panel=>{if(panel&&!panel.hasAttribute('data-dynamic-integrated')){integratePanel(panel);}});const ratingElements=document.querySelectorAll(`.average-rating,.total-reviews,.rating-display,.stars-rating`);ratingElements.forEach(element=>{if(element&&!element.hasAttribute('data-dynamic-integrated')){integrateElement(element);}});}
function integratePanel(panel){console.log('ðŸ“Š Integrando painel:',panel);panel.setAttribute('data-dynamic-integrated','true');const indicator=document.createElement('div');indicator.className='dynamic-indicator';indicator.innerHTML='ðŸ”„ <span>Dados em tempo real</span>';indicator.style.cssText=`position:absolute;top:10px;right:10px;font-size:11px;padding:2px 6px;background:#e8f5e8;color:#137333;border-radius:8px;border:1px solid#34a853;font-weight:500;z-index:1000;`;const computedStyle=window.getComputedStyle(panel);if(computedStyle.position==='static'){panel.style.position='relative';}
panel.appendChild(indicator);panel.classList.add('dynamic-reviews-panel');}
function integrateElement(element){console.log('â­ Integrando elemento de rating:',element);element.setAttribute('data-dynamic-integrated','true');element.classList.add('dynamic-rating-element');if(element.classList.contains('average-rating')||element.getAttribute('data-rating')){element.setAttribute('data-rating','true');}
if(element.classList.contains('total-reviews')||element.getAttribute('data-total')){element.setAttribute('data-total','true');}}
function injectDynamicScript(){if(!window.DynamicReviewsPanel&&!document.querySelector('script[src*="dynamic-reviews.js"]')){console.log('ðŸ“œ Injetando script dinÃ¢mico...');const script=document.createElement('script');script.src='/dynamic-reviews.js';script.async=true;script.onload=()=>{console.log('âœ… Script dinÃ¢mico carregado!');setTimeout(integrateDynamicPanel,500);};script.onerror=()=>{console.error('âŒ Erro ao carregar script dinÃ¢mico');};document.head.appendChild(script);}}
function observeDynamicContent(){const observer=new MutationObserver((mutations)=>{mutations.forEach((mutation)=>{if(mutation.type==='childList'){mutation.addedNodes.forEach((node)=>{if(node.nodeType===Node.ELEMENT_NODE){const isReviewPanel=node.classList&&(node.classList.contains('reviews-section')||node.classList.contains('testimonials')||node.classList.contains('google-reviews')||Array.from(node.classList).some(cls=>cls.includes('review')||cls.includes('rating')));if(isReviewPanel){setTimeout(()=>integrateDynamicPanel(),100);}
const childPanels=node.querySelectorAll&&node.querySelectorAll(`.reviews-section,.testimonials,.google-reviews,[class*="review"],[class*="rating"]`);if(childPanels&&childPanels.length>0){setTimeout(()=>integrateDynamicPanel(),100);}}});}});});observer.observe(document.body,{childList:true,subtree:true});}
ready(()=>{console.log('ðŸš€ Iniciando integraÃ§Ã£o do painel dinÃ¢mico...');integrateDynamicPanel();injectDynamicScript();observeDynamicContent();setTimeout(()=>{integrateDynamicPanel();},2000);console.log('âœ… IntegraÃ§Ã£o do painel dinÃ¢mico configurada!');});window.integrateDynamicPanel=integrateDynamicPanel;})();


